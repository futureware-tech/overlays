include: ./analysis_options.autogen.yaml

analyzer:
  errors:
    # Autogenerated file will have lints that are conflicting with each other.
    # We disable them below, so it's safe to ignore the warnings.
    included_file_warning: ignore
  exclude:
    # These files are autogenerated and do not require analysis. Remember to
    # keep this list in sync with codecov.yml file.
    - "**/messages_*.dart"
    - "**/*.g.dart"
  strong-mode:
    implicit-dynamic: false
    implicit-casts: false
  language:
    # https://github.com/dart-lang/language/blob/master/resources/type-system/strict-inference.md
    strict-inference: true
    # https://github.com/dart-lang/language/blob/master/resources/type-system/strict-raw-types.md
    strict-raw-types: true
  # TODO(dotdoom): Enable this option once it becomes mature enough.
  # Right now:
  # - complains about android.hardware.touchscreen even though the default does
  #   not require it:
  #   https://developer.android.com/guide/topics/manifest/uses-feature-element#touchscreen-hw-features
  # - analyses Android manifests in "build" directory even when excluded via
  #   "exclude" option above.
  #optional-checks:
  #chrome-os-manifest-checks

# Rules are disabled by default unless listed explicitly.
linter:
  rules:
    # Disabled documentation linters.
    public_member_api_docs: false
    type_annotate_public_apis: false

    # "Correcting" input parameters is too useful to let go of.
    parameter_assignments: false

    # Final variables are actually quite useful to avoid mistakes.
    unnecessary_final: false

    # It's fine to omit types for local variables.
    always_specify_types: false

    # Prefer single quotes instead.
    prefer_double_quotes: false

    # Forgetting to specify a type or assuming that it will be correctly
    # inferred is a source of errors. Annotate with dynamic explicitly.
    avoid_annotating_with_dynamic: false

    # Default values may change in future, if we decided to specify it
    # explicitly, let it be.
    avoid_redundant_argument_values: false

    # Questionable effort-to-gain ratio.
    avoid_catches_without_on_clauses: false
    avoid_function_literals_in_foreach_calls: false
    sort_constructors_first: false

    # TODO(dotdoom): add messages to asserts.
    prefer_asserts_with_message: false

    # TODO(ksheremet): Decide whether to use relative imports
    prefer_relative_imports: false

    # TODO(dotdoom): add debugFillProperties.
    diagnostic_describe_all_properties: false

    # TODO(dotdoom): support key parameter in widget constructors.
    use_key_in_widget_constructors: false
